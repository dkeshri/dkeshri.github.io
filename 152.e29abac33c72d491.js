"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[152],{635:(T,d,a)=>{a.d(d,{d:()=>u});var r=a(4004),t=a(8274),m=a(6931);let u=(()=>{class s{constructor(c){this.apiService=c}getShops(){return this.apiService.get("Shops")}getShopOptions(){return this.getShops().pipe((0,r.U)(c=>{let g;return g=c.map(f=>{let _={};return _.value=f.id.toString(),_.label=f.name,_}),g}))}getShop(c){return this.apiService.get("Shops/"+c)}}return s.\u0275fac=function(c){return new(c||s)(t.LFG(m.s))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},2613:(T,d,a)=>{a.d(d,{Q:()=>k});var r=a(9951),t=a(8274),m=a(6895),u=a(4006),s=a(4843),b=a(1740),c=a(5593),g=a(805),f=a(5702),_=a(3087);function w(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"span",7),t._UZ(2,"i",8),t.TgZ(3,"input",9,10),t.NdJ("input",function(){t.CHM(e);const l=t.MAs(4);t.oxw();const p=t.MAs(3);return t.KtG(p.filterGlobal(l.value,"contains"))}),t.qZA()()()}}function D(n,i){if(1&n&&t._UZ(0,"p-sortIcon",17),2&n){const e=t.oxw().$implicit;t.Q6J("field",e.field)}}function h(n,i){if(1&n&&t._UZ(0,"p-columnFilter",18),2&n){const e=t.oxw().$implicit;t.Q6J("field",e.field)}}function E(n,i){if(1&n&&(t.TgZ(0,"th",14)(1,"div",11)(2,"div"),t._uU(3),t.qZA(),t.YNc(4,D,1,1,"p-sortIcon",15),t.YNc(5,h,1,1,"p-columnFilter",16),t.qZA()()),2&n){const e=i.$implicit;t.Q6J("pSortableColumnDisabled",!e.sortable)("pSortableColumn",e.field),t.xp6(3),t.hij(" ",e.header," "),t.xp6(1),t.Q6J("ngIf",e.sortable),t.xp6(1),t.Q6J("ngIf",e.filtrable)}}function C(n,i){1&n&&(t.TgZ(0,"th")(1,"div",11),t._uU(2," Action "),t.qZA()())}function v(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"th")(2,"div",11)(3,"div"),t._uU(4," SNo. "),t.qZA()()(),t.YNc(5,E,6,5,"th",12),t.YNc(6,C,3,0,"ng-template",13),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(5),t.Q6J("ngForOf",e),t.xp6(1),t.Q6J("ngIf",o.isEditable)}}function M(n,i){if(1&n&&(t.TgZ(0,"a",25),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw().$implicit;t.s9C("routerLink",o[e.field]),t.xp6(1),t.Oqu(o[e.field])}}function R(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"input",28),t.NdJ("ngModelChange",function(l){t.CHM(e);const p=t.oxw(2).$implicit,x=t.oxw().$implicit;return t.KtG(x[p.field]=l)}),t.qZA()}if(2&n){const e=t.oxw(2).$implicit,o=t.oxw().$implicit;t.Q6J("ngModel",o[e.field])}}function S(n,i){if(1&n&&t._uU(0),2&n){const e=t.oxw(2).$implicit,o=t.oxw().$implicit;t.hij(" ",o[e.field]," ")}}function O(n,i){1&n&&(t.TgZ(0,"p-cellEditor"),t.YNc(1,R,1,1,"ng-template",26),t.YNc(2,S,1,1,"ng-template",27),t.qZA())}const I=function(){return{width:"150px"}};function Z(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"p-dropdown",29),t.NdJ("ngModelChange",function(l){t.CHM(e);const p=t.oxw(2).$implicit,x=t.oxw().$implicit;return t.KtG(x[p.field]=l)}),t.qZA()}if(2&n){const e=t.oxw(2).$implicit,o=t.oxw().$implicit;t.Akn(t.DdM(4,I)),t.Q6J("options",e.options)("ngModel",o[e.field])}}function A(n,i){if(1&n&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.label)}}function P(n,i){if(1&n&&(t.ynx(0),t.YNc(1,A,2,1,"label",21),t.BQk()),2&n){const e=i.$implicit,o=t.oxw(3).$implicit,l=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.value===l[o.field])}}function F(n,i){if(1&n&&t.YNc(0,P,2,1,"ng-container",20),2&n){const e=t.oxw(2).$implicit;t.Q6J("ngForOf",e.options)}}function N(n,i){1&n&&(t.TgZ(0,"p-cellEditor"),t.YNc(1,Z,1,5,"ng-template",26),t.YNc(2,F,1,1,"ng-template",27),t.qZA())}function J(n,i){if(1&n&&t._uU(0),2&n){const e=t.oxw().$implicit,o=t.oxw().$implicit;t.hij(" ",o[e.field]," ")}}function $(n,i){if(1&n&&(t.TgZ(0,"td")(1,"div",22),t.YNc(2,M,2,2,"ng-template",23),t.YNc(3,O,3,0,"ng-template",23),t.YNc(4,N,3,0,"ng-template",23),t.YNc(5,J,1,1,"ng-template",24),t.qZA()()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngSwitch",e.type),t.xp6(1),t.Q6J("ngSwitchCase",o.ColumnType.Link),t.xp6(1),t.Q6J("ngSwitchCase",o.ColumnType.EditBox),t.xp6(1),t.Q6J("ngSwitchCase",o.ColumnType.DropDown)}}function B(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(2).$implicit,p=t.oxw();return t.KtG(p.onRowEditInit(l))}),t.qZA()}}function Q(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(2).$implicit,p=t.oxw();return t.KtG(p.onRowEditSave(l))}),t.qZA()}}function U(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(2).$implicit,p=t.oxw();return t.KtG(p.onRowEditCancel(l))}),t.qZA()}}function y(n,i){if(1&n&&(t.TgZ(0,"td")(1,"div",11),t.YNc(2,B,1,0,"button",30),t.YNc(3,Q,1,0,"button",31),t.YNc(4,U,1,0,"button",32),t.qZA()()),2&n){const e=t.oxw().editing;t.xp6(2),t.Q6J("ngIf",!e),t.xp6(1),t.Q6J("ngIf",e),t.xp6(1),t.Q6J("ngIf",e)}}function Y(n,i){if(1&n&&(t.TgZ(0,"tr",19)(1,"td")(2,"div",11)(3,"b"),t._uU(4),t.qZA()()(),t.YNc(5,$,6,4,"td",20),t.YNc(6,y,5,3,"td",21),t.qZA()),2&n){const e=i.$implicit,o=i.columns,l=i.rowIndex,p=t.oxw();t.Q6J("pEditableRow",e),t.xp6(4),t.Oqu(l+1),t.xp6(1),t.Q6J("ngForOf",o),t.xp6(1),t.Q6J("ngIf",p.isEditable)}}const L=function(){return{"min-width":"50rem"}},K=function(){return[10,25,50]};let k=(()=>{class n{constructor(){this.columns=[],this.value=[],this.isEditable=!1,this.RowEditSave=new t.vpe,this.ColumnType=r.Q,this.globalFilterFields=[],this.clonedValue={}}ngOnInit(){this.globalFilterFields=this.columns.map(e=>e.field)}onRowEditInit(e){this.clonedValue[e[this.columns[0].field]]={...e}}onRowEditSave(e){if(this.isValidRow()){let o={row:e};delete this.clonedValue[e[this.columns[0].field]],this.RowEditSave.emit(o)}else alert("Invalid data")}onRowEditCancel(e){let o=this.clonedValue[e[this.columns[0].field]];for(const l in o)o.hasOwnProperty(l)&&(e[l]=o[l]);delete this.clonedValue[e[this.columns[0].field]]}isValidRow(){return!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-data-table"]],inputs:{columns:"columns",value:"value",isEditable:"isEditable"},outputs:{RowEditSave:"RowEditSave"},decls:7,vars:12,consts:[[1,"mat-elevation-z1"],[1,"table"],["responsiveLayout","scroll","styleClass","p-datatable-sm p-datatable-striped","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","editMode","row",3,"sortField","dataKey","columns","value","tableStyle","paginator","rows","showCurrentPageReport","rowsPerPageOptions","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",1,"p-inputtext-sm",3,"input"],["inputValue",""],[1,"center"],[3,"pSortableColumnDisabled","pSortableColumn",4,"ngFor","ngForOf"],[3,"ngIf"],[3,"pSortableColumnDisabled","pSortableColumn"],[3,"field",4,"ngIf"],["type","text","display","menu",3,"field",4,"ngIf"],[3,"field"],["type","text","display","menu",3,"field"],[3,"pEditableRow"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"center",3,"ngSwitch"],[3,"ngSwitchCase"],["ngSwitchDefault",""],[3,"routerLink"],["pTemplate","input"],["pTemplate","output"],["pInputText","","type","text",1,"p-inputtext-sm",2,"text-align","center",3,"ngModel","ngModelChange"],["appendTo","body",3,"options","ngModel","ngModelChange"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil","class","p-button-rounded p-button-text",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check","class","p-button-rounded \n                                            p-button-text \n                                            p-button-success mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times","class","p-button-rounded \n                                            p-button-text \n                                            p-button-danger",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check",1,"p-button-rounded","p-button-text","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"p-table",2,3),t.YNc(4,w,5,0,"ng-template",4),t.YNc(5,v,7,2,"ng-template",5),t.YNc(6,Y,7,4,"ng-template",6),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("sortField",o.columns[0].field)("dataKey",o.columns[0].field)("columns",o.columns)("value",o.value)("tableStyle",t.DdM(10,L))("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(11,K))("globalFilterFields",o.globalFilterFields))},dependencies:[m.sg,m.O5,m.RF,m.n9,m.ED,u.Fj,u.JJ,u.On,s.yS,b.o,c.Hq,g.jx,f.Lt,_.iA,_.lQ,_.YL,_.fz,_.D$,_.Pv,_.U1,_.wT,_.xl],styles:[".table[_ngcontent-%COMP%]{margin:25px 0}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),n})()},9951:(T,d,a)=>{a.d(d,{Q:()=>r});var r=(()=>{return(t=r||(r={}))[t.SeqNum=0]="SeqNum",t[t.EditBox=1]="EditBox",t[t.DropDown=2]="DropDown",t[t.CheckBox=3]="CheckBox",t[t.Radio=4]="Radio",t[t.Link=5]="Link",t[t.Barcode=6]="Barcode",r;var t})()}}]);