"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[413],{2413:(B,c,n)=>{n.r(c),n.d(c,{CustomersModule:()=>Y});var C=n(7664),d=n(6895),T=n(4799),e=n(8274),u=n(4006),b=n(635),y=n(6931);let m=(()=>{class s{constructor(t){this.apiService=t}getCustomers(){return this.apiService.get("Customers")}createCustomer(t){return this.apiService.post("Customers",t)}getCustomerById(t){return this.apiService.get("Customers/"+t)}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(y.s))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var p=n(805),U=n(4859),Z=n(1740),h=n(4247),_=n(5702),q=n(1989),x=n(4463);let F=(()=>{class s{constructor(t,r,a,i){this.formBuilder=t,this.shopService=r,this.customerService=a,this.messageService=i,this.shopOptions=[]}ngOnInit(){this.customerForm=this.formBuilder.group({customerName:[null],phoneNumber:[null],shopId:[null],isActive:[!0],currentAddresses:this.addressForm(),permanentAddresses:this.addressForm(),documents:this.documentForm()}),this.shopService.getShopOptions().subscribe(t=>{this.shopOptions=t})}addressForm(){return this.formBuilder.group({address1:[null],address2:[null],landmark:[null],city:[null],pincode:[null],state:[null],country:[null]})}documentForm(){return this.formBuilder.group({documentType:[null],documentId:[null],isDocVerified:[!0]})}onPermanentAddChkChange(t){t.checked?this.customerForm.patchValue({permanentAddresses:{address1:this.customerForm.controls.currentAddresses.value.address1,address2:this.customerForm.controls.currentAddresses.value.address2,landmark:this.customerForm.controls.currentAddresses.value.landmark,city:this.customerForm.controls.currentAddresses.value.city,pincode:this.customerForm.controls.currentAddresses.value.pincode,state:this.customerForm.controls.currentAddresses.value.state,country:this.customerForm.controls.currentAddresses.value.country}}):this.customerForm.controls.permanentAddresses.reset()}onSave(){let t={};t.name=this.customerForm.controls.customerName.value,t.shopId=this.customerForm.controls.shopId.value,t.phone=this.customerForm.controls.phoneNumber.value,t.isActive=this.customerForm.controls.isActive.value;let r=[],i={isPermanent:!0,address1:this.customerForm.controls.permanentAddresses.value.address1,address2:this.customerForm.controls.permanentAddresses.value.address2,landmark:this.customerForm.controls.permanentAddresses.value.landmark,city:this.customerForm.controls.permanentAddresses.value.city,pincode:this.customerForm.controls.permanentAddresses.value.pincode,state:this.customerForm.controls.permanentAddresses.value.state,country:this.customerForm.controls.permanentAddresses.value.country};r.push({isPermanent:!1,address1:this.customerForm.controls.currentAddresses.value.address1,address2:this.customerForm.controls.currentAddresses.value.address2,landmark:this.customerForm.controls.currentAddresses.value.landmark,city:this.customerForm.controls.currentAddresses.value.city,pincode:this.customerForm.controls.currentAddresses.value.pincode,state:this.customerForm.controls.currentAddresses.value.state,country:this.customerForm.controls.currentAddresses.value.country}),r.push(i),t.addresses=r;let g=[];g.push({docId:this.customerForm.controls.documents.value.documentId,type:this.customerForm.controls.documents.value.documentType,isVerified:this.customerForm.controls.documents.value.isDocVerified}),t.documents=g,this.customerService.createCustomer(t).subscribe(w=>{this.messageService.add({severity:"success",summary:"Customer Created Successfully",detail:w.name,life:3e3})})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(u.qu),e.Y36(b.d),e.Y36(m),e.Y36(p.ez))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-create-customer"]],decls:121,vars:8,consts:[[1,"container"],[3,"formGroup"],[1,"customerDetails"],[1,"row"],[1,"p-field"],["for","customerName"],["formControlName","customerName","id","customerName","type","text","pInputText","",1,"p-inputtext-sm"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber","type","text","pInputText","",1,"p-inputtext-sm"],["for","shop"],["formControlName","shopId","appendTo","body",1,"p-dropdown-sm",3,"options"],["for","isActive"],["inputId","isActive","formControlName","isActive",3,"binary"],[1,"customerAddress"],["formGroupName","currentAddresses",1,"row"],["for","address1"],["formControlName","address1","type","text","pInputText","",1,"p-inputtext-sm"],["for","address2"],["formControlName","address2","type","text","pInputText","",1,"p-inputtext-sm"],["for","landmark"],["formControlName","landmark","type","text","pInputText","",1,"p-inputtext-sm"],["for","city"],["formControlName","city","type","text","pInputText","",1,"p-inputtext-sm"],["for","pincode"],["formControlName","pincode","type","number","pInputText","",1,"p-inputtext-sm"],["for","state"],["formControlName","state","type","text","pInputText","",1,"p-inputtext-sm"],["for","country"],["formControlName","country","type","text","pInputText","",1,"p-inputtext-sm"],[1,"permanentAddressTitle"],["inputId","isPermanentAddSame",3,"binary","onChange"],[2,"margin-left","8px"],["formGroupName","permanentAddresses",1,"row"],[1,"customerDocument"],["formGroupName","documents",1,"row"],["for","documentType"],["formControlName","documentType","type","text","pInputText","",1,"p-inputtext-sm"],["for","documentId"],["formControlName","documentId","type","text","pInputText","",1,"p-inputtext-sm"],["for","isDocVerified"],["inputId","isDocVerified","formControlName","isDocVerified",3,"binary"],[1,"action-container"],["mat-raised-button","","color","primary",1,"btn",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Add Customer"),e.qZA(),e.TgZ(3,"p-card")(4,"form",1)(5,"div",2)(6,"h2"),e._uU(7,"Customer Details"),e.qZA(),e.TgZ(8,"div",3)(9,"div",4)(10,"label",5),e._uU(11,"Customer Name"),e.qZA(),e._UZ(12,"input",6),e.qZA(),e.TgZ(13,"div",4)(14,"label",7),e._uU(15,"Phone"),e.qZA(),e._UZ(16,"input",8),e.qZA(),e.TgZ(17,"div",4)(18,"label",9),e._uU(19,"Shop"),e.qZA(),e._UZ(20,"p-dropdown",10),e.qZA(),e.TgZ(21,"div",4)(22,"label",11),e._uU(23,"Is Active"),e.qZA(),e._UZ(24,"p-checkbox",12),e.qZA()()(),e.TgZ(25,"div",13)(26,"h2"),e._uU(27,"Address"),e.qZA(),e.TgZ(28,"h3")(29,"u"),e._uU(30,"Current Address"),e.qZA()(),e.TgZ(31,"div",14)(32,"div",4)(33,"label",15),e._uU(34,"Address 1"),e.qZA(),e._UZ(35,"input",16),e.qZA(),e.TgZ(36,"div",4)(37,"label",17),e._uU(38,"Address 2"),e.qZA(),e._UZ(39,"input",18),e.qZA(),e.TgZ(40,"div",4)(41,"label",19),e._uU(42,"Landmark"),e.qZA(),e._UZ(43,"input",20),e.qZA(),e.TgZ(44,"div",4)(45,"label",21),e._uU(46,"City"),e.qZA(),e._UZ(47,"input",22),e.qZA(),e.TgZ(48,"div",4)(49,"label",23),e._uU(50,"Pincode"),e.qZA(),e._UZ(51,"input",24),e.qZA(),e.TgZ(52,"div",4)(53,"label",25),e._uU(54,"State"),e.qZA(),e._UZ(55,"input",26),e.qZA(),e.TgZ(56,"div",4)(57,"label",27),e._uU(58,"Country"),e.qZA(),e._UZ(59,"input",28),e.qZA()(),e._UZ(60,"br"),e.TgZ(61,"div",29)(62,"h3")(63,"u"),e._uU(64,"Permanent Address"),e.qZA()(),e.TgZ(65,"div")(66,"p-checkbox",30),e.NdJ("onChange",function(i){return r.onPermanentAddChkChange(i)}),e.qZA(),e.TgZ(67,"small",31),e._uU(68," ( "),e.TgZ(69,"b"),e._uU(70,"Is Permanent Address same?"),e.qZA(),e._uU(71," )"),e.qZA()()(),e.TgZ(72,"div",32)(73,"div",4)(74,"label",15),e._uU(75,"Address 1"),e.qZA(),e._UZ(76,"input",16),e.qZA(),e.TgZ(77,"div",4)(78,"label",17),e._uU(79,"Address 2"),e.qZA(),e._UZ(80,"input",18),e.qZA(),e.TgZ(81,"div",4)(82,"label",19),e._uU(83,"Landmark"),e.qZA(),e._UZ(84,"input",20),e.qZA(),e.TgZ(85,"div",4)(86,"label",21),e._uU(87,"City"),e.qZA(),e._UZ(88,"input",22),e.qZA(),e.TgZ(89,"div",4)(90,"label",23),e._uU(91,"Pincode"),e.qZA(),e._UZ(92,"input",24),e.qZA(),e.TgZ(93,"div",4)(94,"label",25),e._uU(95,"State"),e.qZA(),e._UZ(96,"input",26),e.qZA(),e.TgZ(97,"div",4)(98,"label",27),e._uU(99,"Country"),e.qZA(),e._UZ(100,"input",28),e.qZA()()(),e.TgZ(101,"div",33)(102,"h2"),e._uU(103,"Documents"),e.qZA(),e.TgZ(104,"div",34)(105,"div",4)(106,"label",35),e._uU(107,"Document Type"),e.qZA(),e._UZ(108,"input",36),e.qZA(),e.TgZ(109,"div",4)(110,"label",37),e._uU(111,"Document Id"),e.qZA(),e._UZ(112,"input",38),e.qZA(),e.TgZ(113,"div",4)(114,"label",39),e._uU(115,"IsVerified"),e.qZA(),e._UZ(116,"p-checkbox",40),e.qZA()()(),e.TgZ(117,"div",41)(118,"button",42),e.NdJ("click",function(){return r.onSave()}),e._uU(119),e.ALo(120,"translate"),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",r.customerForm),e.xp6(16),e.Q6J("options",r.shopOptions),e.xp6(4),e.Q6J("binary",!0),e.xp6(42),e.Q6J("binary",!0),e.xp6(50),e.Q6J("binary",!0),e.xp6(3),e.Oqu(e.lcZ(120,6,"Common.Save")))},dependencies:[u._Y,u.Fj,u.wV,u.JJ,u.JL,u.sg,u.u,u.x0,U.lW,Z.o,h.Z,_.Lt,q.XZ,x.X$],styles:[".customerDetails[_ngcontent-%COMP%]{padding:10px 0}"]}),s})();var v=n(9951),l=n(4843),A=n(2613),f=n(8783);function I(s,o){1&s&&(e._UZ(0,"i",18),e.TgZ(1,"span"),e._uU(2,"Orders Summary"),e.qZA())}function N(s,o){1&s&&(e._UZ(0,"i",19),e.TgZ(1,"span"),e._uU(2,"Addresses"),e.qZA())}function S(s,o){1&s&&(e.TgZ(0,"h2"),e._uU(1,"Permanent Address"),e.qZA())}function D(s,o){1&s&&(e.TgZ(0,"h2"),e._uU(1,"Current Address"),e.qZA())}function O(s,o){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,S,2,0,"h2",20),e.YNc(2,D,2,0,"h2",20),e.TgZ(3,"div",3)(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()()()),2&s){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.isPermanent),e.xp6(1),e.Q6J("ngIf",!t.isPermanent),e.xp6(3),e.Oqu(t.address1),e.xp6(2),e.Oqu(t.address2),e.xp6(2),e.Oqu(t.landmark),e.xp6(2),e.AsE("",t.city," - ",t.pincode,""),e.xp6(2),e.Oqu(t.country)}}function P(s,o){1&s&&(e._UZ(0,"i",21),e.TgZ(1,"span"),e._uU(2,"Documents"),e.qZA(),e._UZ(3,"i",22))}function J(s,o){if(1&s&&(e.TgZ(0,"div")(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"div",3)(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span",6),e._uU(7),e.qZA()()()),2&s){const t=o.$implicit;e.xp6(2),e.Oqu(t.type),e.xp6(3),e.Oqu(t.docId),e.xp6(2),e.Oqu(t.isVerified?"Verified":"Not Verified")}}let M=(()=>{class s{constructor(t,r){this.route=t,this.customerService=r,this.isEditable=!1,this.customer={}}ngOnInit(){this.route.paramMap.subscribe(t=>{t.has("customerId")&&(this.customerId=t.get("customerId")?t.get("customerId"):"",this.customerService.getCustomerById(this.customerId).subscribe(r=>{this.customer=r}))}),this.cols=[{field:"id",header:"Customer Code",sortable:!0,filtrable:!0,type:v.Q.Link},{field:"barcode",header:"Customer Barcode",sortable:!0,filtrable:!0},{field:"name",header:"Customer Name",sortable:!0,filtrable:!0},{field:"isActive",header:"isActive",sortable:!1,filtrable:!1}],this.customerService.getCustomers().subscribe(t=>{this.customers=t})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(l.gz),e.Y36(m))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-customer-details"]],decls:47,vars:7,consts:[[1,"container"],[1,"customerDetail"],[1,"personalDetail"],[1,"p-field"],[1,"transation"],[2,"color","red"],[2,"color","green","display","inline"],[2,"display","inline"],[1,"customerTab"],["styleClass","tabview-custom"],["pTemplate","header"],[1,"orderSummary"],[3,"columns","value","isEditable"],["header","Header II"],[1,"addresses"],[4,"ngFor","ngForOf"],["header","Header III"],[1,"documents"],[1,"pi","pi-calendar"],[1,"pi","pi-user"],[4,"ngIf"],[1,"pi","pi-search"],[1,"pi","pi-cog"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Customer Details"),e.qZA(),e.TgZ(3,"p-card")(4,"div",1)(5,"div",2)(6,"div",3)(7,"span"),e._uU(8),e.qZA(),e.TgZ(9,"span"),e._uU(10),e.qZA(),e.TgZ(11,"span"),e._uU(12,"One Stop Kirana Store"),e.qZA()()(),e.TgZ(13,"div",4)(14,"div",3)(15,"h2")(16,"u"),e._uU(17,"Total Amount"),e.qZA()(),e.TgZ(18,"span")(19,"b",5),e._uU(20,"3500 /-"),e.qZA()()(),e.TgZ(21,"div",3)(22,"span")(23,"u"),e._uU(24,"Last Paid"),e.qZA()(),e.TgZ(25,"small"),e._uU(26,"Amount: "),e.TgZ(27,"b",6),e._uU(28,"2000"),e.qZA()(),e.TgZ(29,"small"),e._uU(30,"Date: "),e.TgZ(31,"b",7),e._uU(32,"20-jan-2023"),e.qZA()()()()(),e.TgZ(33,"div",8)(34,"p-tabView",9)(35,"p-tabPanel"),e.YNc(36,I,3,0,"ng-template",10),e.TgZ(37,"div",11),e._UZ(38,"app-data-table",12),e.qZA()(),e.TgZ(39,"p-tabPanel",13),e.YNc(40,N,3,0,"ng-template",10),e.TgZ(41,"div",14),e.YNc(42,O,14,8,"div",15),e.qZA()(),e.TgZ(43,"p-tabPanel",16),e.YNc(44,P,4,0,"ng-template",10),e.TgZ(45,"div",17),e.YNc(46,J,8,3,"div",15),e.qZA()()()()()()),2&t&&(e.xp6(8),e.Oqu(r.customer.name),e.xp6(2),e.Oqu(r.customer.phone),e.xp6(28),e.Q6J("columns",r.cols)("value",r.customers)("isEditable",r.isEditable),e.xp6(4),e.Q6J("ngForOf",r.customer.addresses),e.xp6(4),e.Q6J("ngForOf",r.customer.documents))},dependencies:[d.sg,d.O5,A.Q,h.Z,p.jx,f.xf,f.x4],styles:[".customerDetail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:150px}.transation[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.addresses[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.documents[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center}"]}),s})();const Q=[{path:"",children:[{path:"",component:(()=>{class s{constructor(t){this.customerService=t,this.customer="",this.barcode="",this.isEditable=!1,this.cols=[],this.customers=[]}ngOnInit(){this.cols=[{field:"id",header:"Customer Code",sortable:!0,filtrable:!0,type:v.Q.Link},{field:"barcode",header:"Customer Barcode",sortable:!0,filtrable:!0},{field:"name",header:"Customer Name",sortable:!0,filtrable:!0},{field:"isActive",header:"isActive",sortable:!1,filtrable:!1}],this.customerService.getCustomers().subscribe(t=>{this.customers=t})}onEnterPress(t){console.log(this.barcode)}clear(t){t.clear()}onRowEditSave(t){console.log(t)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(m))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-customers"]],decls:6,vars:4,consts:[[1,"content"],[2,"width","220px"],["id","barcodeInput","autofocus","","type","text","pInputText","","placeholder","Customer Bar Code",1,"p-inputtext-sm",3,"ngModel","keydown.enter","ngModelChange"],[3,"columns","value","isEditable","RowEditSave"]],template:function(t,r){1&t&&(e.TgZ(0,"h1"),e._uU(1,"Customers"),e.qZA(),e.TgZ(2,"div",0)(3,"div",1)(4,"input",2),e.NdJ("keydown.enter",function(i){return r.onEnterPress(i)})("ngModelChange",function(i){return r.barcode=i}),e.qZA()(),e.TgZ(5,"app-data-table",3),e.NdJ("RowEditSave",function(i){return r.onRowEditSave(i)}),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("ngModel",r.barcode),e.xp6(1),e.Q6J("columns",r.cols)("value",r.customers)("isEditable",r.isEditable))},dependencies:[A.Q,u.Fj,u.JJ,u.On,Z.o]}),s})()},{path:T.cQ.ADD,component:F},{path:":customerId",component:M}]}];let E=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[l.Bz.forChild(Q),l.Bz]}),s})(),Y=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[d.ez,E,C.m]}),s})()}}]);