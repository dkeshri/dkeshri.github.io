"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[573],{4573:(lt,g,c)=>{c.r(g),c.d(g,{OrdersModule:()=>ct});var b=c(7664),_=c(6895),t=c(8274);let x=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-details"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"order-details works!"),t.qZA())}}),n})();var l=c(3087),p=c(9951),m=c(805),h=c(6931);let C=(()=>{class n{constructor(e){this.apiService=e}getBarcode(e){return this.apiService.post("barcode",e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(h.s))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var s=c(3529),u=c(4006),w=c(1740),v=c(5593),y=c(5702),T=c(2137),O=c(4463);const Z=["dt"],M=["barcodeSearch"];function S(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",17)(1,"img",18),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onSave())}),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.saveImage,t.LSH)}}function R(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",19)(1,"img",18),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onCancel())}),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.cancelImage,t.LSH)}}function E(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"span",10),t._UZ(3,"i",11),t.TgZ(4,"input",12,13),t.NdJ("keydown.enter",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.onEnterPress(r))})("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.barcode=r)}),t.qZA()()(),t.TgZ(6,"div",14),t.YNc(7,S,2,1,"div",15),t.YNc(8,R,2,1,"div",16),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.barcode),t.xp6(3),t.Q6J("ngIf",e.saveImage),t.xp6(1),t.Q6J("ngIf",e.cancelImage)}}function A(n,i){if(1&n&&t._UZ(0,"p-sortIcon",26),2&n){const e=t.oxw().$implicit;t.Q6J("field",e.field)}}function J(n,i){if(1&n&&t._UZ(0,"p-columnFilter",27),2&n){const e=t.oxw().$implicit;t.Q6J("field",e.field)}}function I(n,i){if(1&n&&(t.TgZ(0,"th",23)(1,"div",20)(2,"div"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,A,1,1,"p-sortIcon",24),t.YNc(6,J,1,1,"p-columnFilter",25),t.qZA()()),2&n){const e=i.$implicit;t.Q6J("pSortableColumnDisabled",!e.sortable)("pSortableColumn",e.field),t.xp6(3),t.hij(" ",t.lcZ(4,5,e.header)," "),t.xp6(2),t.Q6J("ngIf",e.sortable),t.xp6(1),t.Q6J("ngIf",e.filtrable)}}function Q(n,i){1&n&&(t.TgZ(0,"th")(1,"div",20),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"Common.Action")," "))}function D(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"th")(2,"div",20)(3,"div"),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.YNc(6,I,7,7,"th",21),t.YNc(7,Q,4,3,"ng-template",22),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,3,"Common.SNo")," "),t.xp6(2),t.Q6J("ngForOf",e),t.xp6(1),t.Q6J("ngIf",o.isEditable)}}function N(n,i){if(1&n&&(t.TgZ(0,"a",34),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw().$implicit;t.s9C("routerLink",o[e.field]),t.xp6(1),t.Oqu(o[e.field])}}function k(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"input",37),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw(2).$implicit,d=t.oxw().$implicit;return t.KtG(d[a.field]=r)}),t.qZA()}if(2&n){const e=t.oxw(2).$implicit,o=t.oxw().$implicit;t.Q6J("ngModel",o[e.field])}}function q(n,i){if(1&n&&t._uU(0),2&n){const e=t.oxw(2).$implicit,o=t.oxw().$implicit;t.hij(" ",o[e.field]," ")}}function $(n,i){1&n&&(t.TgZ(0,"p-cellEditor"),t.YNc(1,k,1,1,"ng-template",35),t.YNc(2,q,1,1,"ng-template",36),t.qZA())}function F(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"input",38),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw(2).$implicit,d=t.oxw().$implicit;return t.KtG(d[a.field]=r)}),t.qZA()}if(2&n){const e=t.oxw(2).$implicit,o=t.oxw().$implicit;t.Q6J("ngModel",o[e.field])}}function B(n,i){if(1&n&&t._uU(0),2&n){const e=t.oxw(2).$implicit,o=t.oxw().$implicit;t.hij(" ",o[e.field]," ")}}function Y(n,i){1&n&&(t.TgZ(0,"p-cellEditor"),t.YNc(1,F,1,1,"ng-template",35),t.YNc(2,B,1,1,"ng-template",36),t.qZA())}const f=function(){return{width:"150px"}};function P(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"p-dropdown",39),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw(2).$implicit,d=t.oxw().$implicit;return t.KtG(d[a.field]=r)}),t.qZA()}if(2&n){const e=t.oxw(2).$implicit,o=t.oxw().$implicit;t.Akn(t.DdM(4,f)),t.Q6J("options",e.options)("ngModel",o[e.field])}}function G(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"p-dropdown",39),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw(2).$implicit,d=t.oxw().$implicit;return t.KtG(d[a.field]=r)}),t.qZA()}if(2&n){const e=t.oxw(2).$implicit,o=t.oxw().$implicit;t.Akn(t.DdM(4,f)),t.Q6J("options",e.options)("ngModel",o[e.field])}}function H(n,i){1&n&&(t.TgZ(0,"p-cellEditor"),t.YNc(1,P,1,5,"ng-template",35),t.YNc(2,G,1,5,"ng-template",36),t.qZA())}function L(n,i){if(1&n&&t._uU(0),2&n){const e=t.oxw().$implicit,o=t.oxw().$implicit;t.hij(" ",o[e.field]," ")}}function U(n,i){if(1&n&&(t.TgZ(0,"td")(1,"div",31),t.YNc(2,N,2,2,"ng-template",32),t.YNc(3,$,3,0,"ng-template",32),t.YNc(4,Y,3,0,"ng-template",32),t.YNc(5,H,3,0,"ng-template",32),t.YNc(6,L,1,1,"ng-template",33),t.qZA()()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngSwitch",e.type),t.xp6(1),t.Q6J("ngSwitchCase",o.ColumnType.Link),t.xp6(1),t.Q6J("ngSwitchCase",o.ColumnType.Barcode),t.xp6(1),t.Q6J("ngSwitchCase",o.ColumnType.EditBox),t.xp6(1),t.Q6J("ngSwitchCase",o.ColumnType.DropDown)}}function K(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",44),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,a=t.oxw();return t.KtG(a.onRowEditInit(r))}),t.qZA()}}function j(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,a=t.oxw();return t.KtG(a.onRowDelete(r))}),t.qZA()}}function V(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,a=t.oxw();return t.KtG(a.onRowEditSave(r))}),t.qZA()}}function z(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",47),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,a=t.oxw();return t.KtG(a.onRowEditCancel(r))}),t.qZA()}}function X(n,i){if(1&n&&(t.TgZ(0,"td")(1,"div",20),t.YNc(2,K,1,0,"button",40),t.YNc(3,j,1,0,"button",41),t.YNc(4,V,1,0,"button",42),t.YNc(5,z,1,0,"button",43),t.qZA()()),2&n){const e=t.oxw().editing;t.xp6(2),t.Q6J("ngIf",!e),t.xp6(1),t.Q6J("ngIf",!e),t.xp6(1),t.Q6J("ngIf",e),t.xp6(1),t.Q6J("ngIf",e)}}function W(n,i){if(1&n&&(t.TgZ(0,"tr",28)(1,"td")(2,"div",20)(3,"b"),t._uU(4),t.qZA()()(),t.YNc(5,U,7,5,"td",29),t.YNc(6,X,6,4,"td",30),t.qZA()),2&n){const e=i.$implicit,o=i.columns,r=i.rowIndex,a=t.oxw();t.Q6J("pEditableRow",e),t.xp6(4),t.Oqu(r+1),t.xp6(1),t.Q6J("ngForOf",o),t.xp6(1),t.Q6J("ngIf",a.isEditable)}}const tt=function(){return{width:"450px"}},et=function(){return{"min-width":"50rem"}},nt=function(){return[30,60,120,240]};let ot=(()=>{class n{constructor(e,o,r,a){this.messageService=e,this.confirmationService=o,this.barcodeService=r,this.router=a,this.barcode="",this.columns=[],this.value=[],this.isEditable=!0,this.RowEditSave=new t.vpe,this.ColumnType=p.Q,this.globalFilterFields=[],this.clonedValue={},this.saveBarcodeReq={code:"Save",width:220,height:50,includeLabel:!0},this.cancelBarcodeReq={code:"Cancel",width:220,height:50,includeLabel:!0}}ngOnInit(){this.barcodeService.getBarcode(this.saveBarcodeReq).subscribe(o=>{this.saveImage="data:image/png;base64,"+o}),this.barcodeService.getBarcode(this.cancelBarcodeReq).subscribe(o=>{this.cancelImage="data:image/png;base64,"+o}),this.columns=[{field:"barcode",header:"Common.Barcode",type:p.Q.Barcode},{field:"name",header:"Table.Column.Header.ProductName"},{field:"unit",header:"Common.Unit",type:p.Q.DropDown,options:[{value:"gr",label:"Kg"},{value:"ol",label:"Liter"},{value:"rc",label:"Gram"},{value:"ck",label:"Number"},{value:"sr",label:"Pack"},{value:"ml",label:"bottel"}]},{field:"price",header:"Common.Price",type:p.Q.EditBox},{field:"quantity",header:"Common.Quantity",type:p.Q.EditBox},{field:"amount",header:"Common.Amount",type:p.Q.EditBox}],this.value=[{barcode:"251",name:"Rice",unit:"gr",price:5.2,quantity:5.2,amount:5.3}],this.globalFilterFields=this.columns.map(o=>o.field)}onRowEditInit(e){this.clonedValue[e.barcode]={...e}}onRowEditSave(e){if(this.isValidRow()){let o={row:e};delete this.clonedValue[e.barcode],this.RowEditSave.emit(o)}else alert("Invalid data")}onRowEditCancel(e){let o=this.clonedValue[e[this.columns[0].field]];for(const r in o)o.hasOwnProperty(r)&&(e[r]=o[r]);delete this.clonedValue[e[this.columns[0].field]]}isValidRow(){return!0}onEnterPress(e){let o=this.barcode;console.log(o),this.value=[{barcode:o,name:"Rice",unit:"gr",price:5.2,quantity:5.2,amount:5.3},...this.value],this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.barcode=""}onRowDelete(e){this.confirmationService.confirm({message:"Are you sure you want to delete the selected products?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.value=this.value.filter(o=>o.barcode!=e.barcode),this.messageService.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})}})}onSave(){}onCancel(){this.router.navigate([""])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.ez),t.Y36(m.YP),t.Y36(C),t.Y36(s.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Z,5,l.iA),t.Gf(M,5)),2&e){let r;t.iGM(r=t.CRH())&&(o.table=r.first),t.iGM(r=t.CRH())&&(o.barcodeSearch=r.first)}},outputs:{RowEditSave:"RowEditSave"},decls:12,vars:16,consts:[[1,"content"],[1,"mat-elevation-z1"],[1,"table"],["responsiveLayout","scroll","styleClass","p-datatable-sm p-datatable-striped","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","editMode","row",3,"dataKey","columns","value","tableStyle","paginator","rows","showCurrentPageReport","rowsPerPageOptions"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"caption-container"],[1,"search-container"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["id","barcodeInput","autofocus","","type","text","pInputText","","placeholder","Product Bar Code",1,"p-inputtext-sm",3,"ngModel","keydown.enter","ngModelChange"],["barcodeRef",""],[1,"barcode-container"],["class","save-barcode",4,"ngIf"],["class","cancel-barcode",4,"ngIf"],[1,"save-barcode"],[3,"src","click"],[1,"cancel-barcode"],[1,"center"],[3,"pSortableColumnDisabled","pSortableColumn",4,"ngFor","ngForOf"],[3,"ngIf"],[3,"pSortableColumnDisabled","pSortableColumn"],[3,"field",4,"ngIf"],["type","text","display","menu",3,"field",4,"ngIf"],[3,"field"],["type","text","display","menu",3,"field"],[3,"pEditableRow"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"center",3,"ngSwitch"],[3,"ngSwitchCase"],["ngSwitchDefault",""],[3,"routerLink"],["pTemplate","input"],["pTemplate","output"],["pInputText","","placeholder","Product Barcode","type","text",1,"p-inputtext-sm",2,"text-align","center",3,"ngModel","ngModelChange"],["pInputText","","type","text",1,"p-inputtext-sm",2,"text-align","center",3,"ngModel","ngModelChange"],["appendTo","body",3,"options","ngModel","ngModelChange"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil","class","p-button-rounded p-button-text",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-trash","class","p-button-rounded p-button-text",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check","class","p-button-rounded \n                                                    p-button-text \n                                                    p-button-success mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times","class","p-button-rounded \n                                                    p-button-text \n                                                    p-button-danger",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check",1,"p-button-rounded","p-button-text","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"h1"),t._uU(1),t.ALo(2,"translate"),t.qZA(),t._UZ(3,"p-confirmDialog"),t.TgZ(4,"div",0)(5,"div",1)(6,"div",2)(7,"p-table",3,4),t.YNc(9,E,9,3,"ng-template",5),t.YNc(10,D,8,5,"ng-template",6),t.YNc(11,W,7,4,"ng-template",7),t.qZA()()()()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,11,"Form.Label.Orders")),t.xp6(2),t.Akn(t.DdM(13,tt)),t.xp6(4),t.Q6J("dataKey",o.columns[0].field)("columns",o.columns)("value",o.value)("tableStyle",t.DdM(14,et))("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(15,nt)))},dependencies:[_.sg,_.O5,_.RF,_.n9,_.ED,s.yS,u.Fj,u.JJ,u.On,w.o,v.Hq,m.jx,y.Lt,l.iA,l.lQ,l.YL,l.fz,l.D$,l.Pv,l.U1,l.wT,l.xl,T.Q,O.X$],styles:[".table[_ngcontent-%COMP%]{margin:25px 0}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.caption-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.search-container[_ngcontent-%COMP%]{flex:.6}.barcode-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex:.4}.save-barcode[_ngcontent-%COMP%]{border:1px solid green;cursor:pointer;background-color:green}.cancel-barcode[_ngcontent-%COMP%]{border:1px solid red;cursor:pointer;background-color:red}.save-barcode[_ngcontent-%COMP%]:hover, .cancel-barcode[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]}),n})();var it=c(2613);const rt=[{path:"",children:[{path:"",component:(()=>{class n{constructor(){this.cols=[],this.customers=[]}ngOnInit(){this.cols=[{field:"code",header:"Order Code",sortable:!0,filtrable:!0,type:p.Q.Link},{field:"name",header:"Customer Name",sortable:!0,filtrable:!0,type:p.Q.EditBox},{field:"category",header:"Customer Category",sortable:!0},{field:"quantity",header:"Total Amout",sortable:!0,filtrable:!0},{field:"barcode",header:"Customer Barcode",sortable:!0,filtrable:!0}],this.customers=[{code:"251",name:"Deepak",category:"gr",quantity:"25",barcode:"1242124245"},{code:"252",name:"Shubhan",category:"gr",quantity:"45",barcode:"1242124245"},{code:"253",name:"pradeep",category:"ol",quantity:"48",barcode:"1242124245"},{code:"2514",name:"Nikita",category:"ck",quantity:"56",barcode:"1242124245"},{code:"12",name:"Prashant",category:"sr",quantity:"0",barcode:"1242124245"},{code:"25",name:"Srikanr",category:"ml",quantity:"25",barcode:"1242124245"},{code:"51",name:"kafeel",category:"rc",quantity:"0",barcode:"1242124245"},{code:"30",name:"Yogi",category:"ol",quantity:"45",barcode:"1242124245"},{code:"45",name:"Akhil",category:"rc",quantity:"84",barcode:"1242124245"},{code:"28",name:"Barun",category:"sr",quantity:"85",barcode:"1242124245"},{code:"85",name:"Anil",category:"ml",quantity:"78",barcode:"1242124245"},{code:"45",name:"Deepak",category:"rc",quantity:"85",barcode:"1242124245"}]}onRowEditSave(e){console.log(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-orders"]],decls:4,vars:2,consts:[[1,"content"],[3,"columns","value","RowEditSave"]],template:function(e,o){1&e&&(t.TgZ(0,"h1"),t._uU(1,"Orders"),t.qZA(),t.TgZ(2,"div",0)(3,"app-data-table",1),t.NdJ("RowEditSave",function(a){return o.onRowEditSave(a)}),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("columns",o.cols)("value",o.customers))},dependencies:[it.Q]}),n})()},{path:"order",component:ot},{path:":orderId",component:x}]}];let at=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.Bz.forChild(rt),s.Bz]}),n})(),ct=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.ez,at,b.m]}),n})()}}]);