"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[902],{9902:(w,a,n)=>{n.r(a),n.d(a,{ProductsModule:()=>D});var l=n(6895),h=n(5223),t=n(8274),u=n(3529),s=n(4006),v=n(6931);let p=(()=>{class o{constructor(e){this.apiService=e}getProducts(){return this.apiService.get("Products")}getProduct(e){return this.apiService.get("Products/"+e)}createProduct(e){return this.apiService.post("Products",e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(v.s))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var f=n(805),g=n(2218),P=n(4325),b=n(4859),m=n(1740),Z=n(4247),U=n(5702),C=n(585),A=n(1989);function y(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.OnSubmit())}),t._uU(1,"Save Product"),t.qZA()}}function T(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.OnSubmit())}),t._uU(1,"Update Product"),t.qZA()}}let x=(()=>{class o{constructor(e,r,c,d,J,M){this.route=e,this.formBuilder=r,this.productService=c,this.messageService=d,this.unitService=J,this.dialogService=M,this.unitOptions=[],this.secUnitOptions=[],this.showUpdateBtn=!1}ngOnInit(){let e=new Date;this.productFormGroup=this.formBuilder.group({barcode:[""],name:[""],costPrice:[""],price:[""],expireOn:[e],unit:[""],secUnit:[""],isActive:[!0]}),this.route.params.subscribe(r=>{this.productId=r.productId,this.unitService.getUnitOptions().subscribe(c=>{this.unitOptions=c,this.secUnitOptions=c}),"add"!=this.productId&&(this.showUpdateBtn=!0,this.getProductDetail(this.productId))})}getProductDetail(e){this.productService.getProduct(e).subscribe(r=>{this.setFormOnGetProduct(r)})}setFormOnGetProduct(e){let r=new Date(e.expireOn);console.log(e),this.productFormGroup.controls.barcode.setValue(e.barcode),this.productFormGroup.controls.name.setValue(e.name),this.productFormGroup.controls.costPrice.setValue(e.costPrice),this.productFormGroup.controls.price.setValue(e.price),this.productFormGroup.controls.expireOn.setValue(r),this.productFormGroup.controls.unit.setValue(this.unitOptions.find(d=>d.value==e.unitId)?.value),this.productFormGroup.controls.secUnit.setValue("2"),this.productFormGroup.controls.isActive.setValue(e.isActive)}OnSubmit(){let e={};e.barcode=this.productFormGroup.controls.barcode.value,e.name=this.productFormGroup.controls.name.value,e.costPrice=this.productFormGroup.controls.costPrice.value,e.price=this.productFormGroup.controls.price.value,e.expireOn=this.productFormGroup.controls.expireOn.value,e.unitId=this.productFormGroup.controls.unit.value,e.secUnitId=this.productFormGroup.controls.secUnit.value,e.isActive=this.productFormGroup.controls.isActive.value,this.productService.createProduct(e).subscribe(r=>{this.messageService.add({severity:"success",summary:"Product Created Successfully",detail:r.name,life:3e3})})}onShowUnitDialog(){this.dialogService.open(h.u,{header:"Add Unit",width:"70%"})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.gz),t.Y36(s.qu),t.Y36(p),t.Y36(f.ez),t.Y36(g._),t.Y36(P.xA))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-details"]],decls:58,vars:8,consts:[[1,"container"],[3,"formGroup"],[1,"productDetails"],[1,"row"],[1,"p-field"],["for","barcode"],["formControlName","barcode","id","barcode","type","text","pInputText","",1,"p-inputtext-sm"],[2,"color","red"],["for","productName"],["formControlName","name","id","productName","type","text","pInputText","",1,"p-inputtext-sm"],["for","costPrice"],["formControlName","costPrice","id","costPrice","type","text","pInputText","",1,"p-inputtext-sm"],["for","sellPrice"],["formControlName","price","id","sellPrice","type","text","pInputText","",1,"p-inputtext-sm"],[1,"calender-field"],["for","expireOn"],["formControlName","expireOn","id","expireOn","appendTo","body","dateFormat","dd/mm/yy",1,"p-inputtext-sm",3,"showIcon"],["for","unit"],["formControlName","unit","appendTo","body",3,"options"],["for","secUnit"],["formControlName","secUnit","appendTo","body",1,"p-dropdown-sm",3,"options"],["for","binary"],["inputId","binary","formControlName","isActive",3,"binary"],[1,"productUnit"],["id","createUnit","mat-raised-button","","color","primary",1,"btn",3,"click"],[1,"action-container"],["class","btn","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",1,"btn",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Add Product"),t.qZA(),t.TgZ(3,"p-card")(4,"form",1)(5,"div",2)(6,"h2"),t._uU(7,"Product Details"),t.qZA(),t.TgZ(8,"div",3)(9,"div",4)(10,"label",5),t._uU(11,"Product Barcode"),t.qZA(),t._UZ(12,"input",6),t.TgZ(13,"small",7),t._uU(14,"Barcode can not be blank"),t.qZA()(),t.TgZ(15,"div",4)(16,"label",8),t._uU(17,"Product Name"),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"div",4)(20,"label",10),t._uU(21,"Cost Price"),t.qZA(),t._UZ(22,"input",11),t.qZA(),t.TgZ(23,"div",4)(24,"label",12),t._uU(25,"Sell Price"),t.qZA(),t._UZ(26,"input",13),t.qZA(),t.TgZ(27,"div",14)(28,"label",15),t._uU(29,"Product Expire On"),t.qZA(),t._UZ(30,"p-calendar",16),t.qZA(),t.TgZ(31,"div",4)(32,"label",17),t._uU(33,"Unit"),t.qZA(),t._UZ(34,"p-dropdown",18),t.qZA(),t.TgZ(35,"div",4)(36,"label",19),t._uU(37,"Secondary Unit"),t.qZA(),t._UZ(38,"p-dropdown",20),t.qZA(),t.TgZ(39,"div",4)(40,"label",21),t._uU(41),t.qZA(),t._UZ(42,"p-checkbox",22),t.qZA()()(),t.TgZ(43,"div",23)(44,"h2"),t._uU(45,"Create Unit"),t.qZA(),t.TgZ(46,"div",3)(47,"div",4)(48,"label"),t._uU(49,"Action(Add/Delete)"),t.qZA(),t.TgZ(50,"button",24),t.NdJ("click",function(){return r.onShowUnitDialog()}),t._uU(51,"Create Unit"),t.qZA(),t.TgZ(52,"small"),t._uU(53,"Note: If Unit is not Please add !"),t.qZA()(),t._UZ(54,"div"),t.qZA()(),t.TgZ(55,"div",25),t.YNc(56,y,2,0,"button",26),t.YNc(57,T,2,0,"button",26),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("formGroup",r.productFormGroup),t.xp6(26),t.Q6J("showIcon",!0),t.xp6(4),t.Q6J("options",r.unitOptions),t.xp6(4),t.Q6J("options",r.secUnitOptions),t.xp6(3),t.Oqu(1==r.productFormGroup.controls.isActive.value?"Active":"Inactive"),t.xp6(1),t.Q6J("binary",!0),t.xp6(14),t.Q6J("ngIf",!r.showUpdateBtn),t.xp6(1),t.Q6J("ngIf",r.showUpdateBtn))},dependencies:[l.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,b.lW,m.o,Z.Z,U.Lt,C.f,A.XZ],styles:[".productDetails[_ngcontent-%COMP%], .productUnit[_ngcontent-%COMP%]{padding:10px 0}.calender-field[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:block}"]}),o})();var S=n(801),F=n(9951),O=n(2613);const I=[{path:"",children:[{path:"",component:(()=>{class o{constructor(e){this.productService=e,this.barcode="",this.isEditable=!1,this.faCoffee=S.SvR,this.cities=[],this.selectedCityCode="LDN",this.products=[],this.cols=[],this.cities=[{name:"New York",code:"NY"},{name:"Rome",code:"RM"},{name:"London",code:"LDN"},{name:"Istanbul",code:"IST"},{name:"Paris",code:"PRS"}],this.selectedCityCode="RM"}ngOnInit(){this.cols=[{field:"id",header:"Product Code",sortable:!0,filtrable:!0,type:F.Q.Link},{field:"barcode",header:"Barcode",sortable:!0,filtrable:!0},{field:"name",header:"Name",sortable:!1,filtrable:!0},{field:"unitId",header:"Unit",sortable:!1,filtrable:!0},{field:"costPrice",header:"Cost Price",sortable:!1,filtrable:!0},{field:"expireOn",header:"Expire",sortable:!1,filtrable:!0}],this.productService.getProducts().subscribe(e=>{this.products=e,console.log(this.products)})}onEnterPress(e){console.log(this.barcode)}onRowEditInit(e){console.log(e)}onRowEditSave(e){console.log(e)}onRowEditCancel(e){console.log(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-products"]],decls:6,vars:4,consts:[[1,"content"],[2,"width","220px"],["id","barcodeInput","autofocus","","type","text","pInputText","","placeholder","Product Bar Code",1,"p-inputtext-sm",3,"ngModel","keydown.enter","ngModelChange"],[3,"columns","value","isEditable","RowEditSave"]],template:function(e,r){1&e&&(t.TgZ(0,"h1"),t._uU(1,"Products"),t.qZA(),t.TgZ(2,"div",0)(3,"div",1)(4,"input",2),t.NdJ("keydown.enter",function(d){return r.onEnterPress(d)})("ngModelChange",function(d){return r.barcode=d}),t.qZA()(),t.TgZ(5,"app-data-table",3),t.NdJ("RowEditSave",function(d){return r.onRowEditSave(d)}),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("ngModel",r.barcode),t.xp6(1),t.Q6J("columns",r.cols)("value",r.products)("isEditable",r.isEditable))},dependencies:[O.Q,s.Fj,s.JJ,s.On,m.o]}),o})()},{path:":productId",component:x}]}];let G=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.Bz.forChild(I),u.Bz]}),o})();var N=n(7664);let D=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.ez,G,N.m]}),o})()}}]);